---
id: 8xz93
title: README
file_version: 1.1.2
app_version: 1.3.5
---

# Event Sourcing Demo

## Architecture Diagram

<br/>

<div align="center"><img src="https://firebasestorage.googleapis.com/v0/b/swimmio-content/o/repositories%2FZ2l0aHViJTNBJTNBZXZlbnQtc291cmNpbmclM0ElM0FzaW1iYXRhaXNh%2Ff9bc45c0-4e36-4e23-8f72-65ae15079f8d.png?alt=media&token=b36e37e4-de5b-4297-bf42-eeb831c021a7" style="width:'100%'"/></div>

<br/>

## How to Run

1.  Build your project
    
    ```bash
    ./gradlew clean build --info
    ```
    
2.  Start Zookeeper
    
    ```bash
    zookeeper-server-start /Users/dennis.dao/workspace/app/kafka_2.13-2.8.0/config/zookeeper.properties
    ```
    
3.  Start Kafka
    
    ```bash
    kafka-server-start /Users/dennis.dao/workspace/app/kafka_2.13-2.8.0/config/server.properties
    ```
    
4. Run app with spring profile property `spring.profiles.active`:
* `api-gateway-service` = `default`
  * Access your *Eureka Naming Server* at http://localhost:8761/
  * User: `admin`
  * Password: `password`

* `naming-server` = `default`

* Option 1:
  * `event-storage-service` connects to *kafka* cluster topic to process the event.
  * `default` or `h2`
  * `rocksdb`

  * `command-service` = `camel-kafka`
    * with remote or local kafka broker:
      * local loopback host: `spring.kafka.bootstrap-servers=localhost:9092`
      * remote ip: `spring.kafka.bootstrap-servers=192.168.1.19:9092`

  * `query-service` = `default` or `event-store`

* Option 2:
  * `event-storage-service` = `event-store`
  * `command-service` = `event-store`

    * *This will call `event-store-service` endpoints to process event instead of using `kafka` broker.*

  * `query-service` = `default` or `event-store`

<br/>

<!--MERMAID {width:100}-->
```mermaid
graph TD
A[Christmas] -->|Get money| B(Go shopping)
B --> C{Let me think}
C -->|One| D[Laptop]
C -->|Two| E[iPhone]
C -->|Three| F[fa:fa-car Car]
```
<!--MCONTENT {content: "graph TD<br/>\nA\\[Christmas\\] \\-\\-\\>|Get money| B(Go shopping)<br/>\nB \\-\\-\\> C{Let me think}<br/>\nC \\-\\-\\>|One| D\\[Laptop\\]<br/>\nC \\-\\-\\>|Two| E\\[iPhone\\]<br/>\nC \\-\\-\\>|Three| F\\[fa:fa-car Car\\]"} --->

<br/>

```plantuml
@startuml

package "Some Group" {
  HTTP - [First Component]
  [Another Component]
}

node "Other Groups" {
  FTP - [Second Component]
  [First Component] --> FTP
}

cloud {
  [Example 1]
}


database "MySql" {
  folder "This is my folder" {
    [Folder 3]
  }
  frame "Foo" {
    [Frame 4]
  }
}


[Another Component] --> [Example 1]
[Example 1] --> [Folder 3]
[Folder 3] --> [Frame 4]

@enduml
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZXZlbnQtc291cmNpbmclM0ElM0FzaW1iYXRhaXNh/docs/8xz93).
